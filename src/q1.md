---
title: How have GDP per capita and life expectancy evolved across income groups since 1990?
---

```js
import {darkModeColors} from "./components/colors.js";

const gdpData = await FileAttachment("data/q1.csv").csv({typed: true});

const margin = { top: 50, right: 180, bottom: 60, left: 80 };
const width = 650 - margin.left - margin.right;
const height = 300 - margin.top - margin.bottom;

const svg = d3.create("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom);

const g = svg.append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

const filtered = gdpData.filter(d => +d.year >= 1990);

const nested = d3.groups(filtered, d => d.income_group, d => d.year)
    .map(([income_group, yearGroups]) => ({
      income_group,
      values: yearGroups
        .map(([year, rows]) => ({
          year: +year,
          gdp_pc: d3.mean(rows, r => +r["GDP per capita (current US$)"])
        }))
        .sort((a, b) => a.year - b.year)
    }));

const x = d3.scaleLinear()
      .domain(d3.extent(filtered, d => +d.year))
      .range([0, width]);

const y = d3.scaleLinear()
      .domain([0, d3.max(nested, g => d3.max(g.values, d => d.gdp_pc))])
      .nice()
      .range([height, 0]);

const color = d3.scaleOrdinal()
      .domain(nested.map(d => d.income_group))
      .range(darkModeColors);

 g.append("g")
      .attr("transform", `translate(0,${height})`)
      .call(d3.axisBottom(x).tickFormat(d3.format("d")));

  g.append("g")
      .call(d3.axisLeft(y));

  g.append("text")
      .attr("x", width / 2)
      .attr("y", height + 40)
      .attr("text-anchor", "middle")
      .text("Year");

  g.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -55)
      .attr("x", -(height / 2))
      .attr("text-anchor", "middle")
      .text("GDP per Capita (USD, mean)");

  g.append("text")
      .attr("x", width / 2)
      .attr("y", -30)
      .attr("text-anchor", "middle")
      .style("font-size", "22px")
      .style("font-weight", "600")
      .style("fill", "#f0f0f0")
      .text("GDP per Capita Trends by Income Group (1990-2023)");

  const line = d3.line()
      .x(d => x(d.year))
      .y(d => y(d.gdp_pc));

  g.selectAll(".line-group")
    .data(nested)
    .enter()
    .append("path")
      .attr("fill", "none")
      .attr("stroke", d => color(d.income_group))
      .attr("stroke-width", 2)
      .attr("d", d => line(d.values));

  const legend = g.append("g")
      .attr("transform", `translate(${width + 15}, 0)`);

  nested.forEach((group, i) => {
    const yOffset = i * 20;

    legend.append("rect")
      .attr("x", 0)
      .attr("y", yOffset)
      .attr("width", 12)
      .attr("height", 12)
      .attr("fill", color(group.income_group));

    legend.append("text")
      .attr("x", 20)
      .attr("y", yOffset + 10)
      .text(group.income_group)
      .style("font-size", "12px");
  });

  display(svg.node());
```

The line chart plots the mean GDP per capita for each World Bank income group from 1990 to 2023. Each colored line represents a different income group, allowing direct comparison of long-term economic trends. The High income group sits far above all others and shows a steady upward trajectory, especially after the early 2000s. Upper middle income countries show moderate but consistent growth over the entire period. Lower middle income and Low income countries remain clustered near the bottom of the chart, with much lower GDP per capita and slower growth rates. The “Not classified” category fluctuates irregularly due to sparse or inconsistent country classifications. 

Based on the GDP per capita trends alone, economic outcomes have diverged significantly across income groups since 1990. High-income countries have experienced the strongest and most sustained growth, with GDP per capita rising from roughly $13,000 in 1990 to nearly $50,000 by 2023. Upper-middle-income countries also show upward progress, though at a much lower absolute level. In contrast, lower-middle-income and low-income groups exhibit only modest gains and remain far behind, indicating that global income disparities have persisted and in some cases widened.

```js

  const margin = { top: 50, right: 160, bottom: 40, left: 60 };
  const width = 650 - margin.left - margin.right;
  const height = 300 - margin.top - margin.bottom;

  const svg = d3.create("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom);

  const g = svg.append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

  const filtered = gdpData.filter(d => +d.year >= 1990);

  const grouped = d3.groups(filtered, d => d.income_group, d => d.year);

  const nested = [];
  const allLife = [];

  for (const [income_group, yearGroups] of grouped) {
    const values = [];

    for (const [year, rows] of yearGroups) {
      const vals = rows
        .map(r => {
          const raw = r["Life expectancy at birth, total (years)"];
          if (raw === "" || raw == null) return NaN;
          const num = +raw;
          return Number.isFinite(num) ? num : NaN;
        })
        .filter(Number.isFinite);

      if (vals.length === 0) continue;

      const life = d3.mean(vals);
      values.push({ year: +year, life_exp: life });
      allLife.push(life);
    }

    values.sort((a, b) => a.year - b.year);

    if (values.length > 0) {
      nested.push({ income_group, values });
    }
  }

    g.append("text")
      .attr("x", width / 2)
      .attr("y", -30)
      .attr("text-anchor", "middle")
      .style("font-size", "22px")
      .style("font-weight", "600")
      .style("fill", "#f0f0f0")
      .text("Life Expectancy Trends by Income Group (1990-2023)");


  const x = d3.scaleLinear()
      .domain(d3.extent(filtered, d => +d.year))
      .range([0, width]);

  const y = d3.scaleLinear()
      .domain(d3.extent(allLife))
      .nice()
      .range([height, 0]);

  const color = d3.scaleOrdinal()
      .domain(nested.map(d => d.income_group))
      .range(d3.schemeTableau10);

  g.append("g")
    .attr("transform", `translate(0,${height})`)
    .call(d3.axisBottom(x).tickFormat(d3.format("d")));

  g.append("g")
    .call(d3.axisLeft(y));

  g.append("text")
      .attr("x", width / 2)
      .attr("y", height + 35)
      .attr("text-anchor", "middle")
      .text("Year");

  g.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -45)
      .attr("x", -(height / 2))
      .attr("text-anchor", "middle")
      .text("Life Expectancy (years, mean)");

  const line = d3.line()
      .x(d => x(d.year))
      .y(d => y(d.life_exp));

  g.selectAll(".line-group")
    .data(nested)
    .enter()
    .append("path")
      .attr("fill", "none")
      .attr("stroke", d => color(d.income_group))
      .attr("stroke-width", 2)
      .attr("d", d => line(d.values));

  const legend = g.append("g")
      .attr("transform", `translate(${width + 15}, 0)`);

  nested.forEach((group, i) => {
    const yOffset = i * 20;

    legend.append("rect")
      .attr("x", 0)
      .attr("y", yOffset)
      .attr("width", 12)
      .attr("height", 12)
      .attr("fill", color(group.income_group));

    legend.append("text")
      .attr("x", 20)
      .attr("y", yOffset + 10)
      .text(group.income_group)
      .style("font-size", "12px");
  });

  display(svg.node());


```

Life expectancy has risen steadily across all income groups since 1990, but at different starting points and ending levels. High-income countries entered the period with a clear advantage, improving from the mid-70s into the high-70s by 2023, while upper-middle and lower-middle income countries experienced similar upward trends but started from lower baselines. The most dramatic gains occurred in low-income countries, where life expectancy rose from below 50 years to the low-60s, reflecting the outsized impact of reductions in infant mortality, wider access to essential medicine, and basic public health infrastructure. Although the pace of improvement is broadly parallel across income groups, the overall gap in outcomes remains: wealthy countries remain the longest-lived, but the narrowing slope suggests meaningful convergence in global health outcomes over the past three decades.

### Why the difference in trends?

Life expectancy rises more uniformly across income groups because the largest gains come from inexpensive and widely diffused public health improvements rather than from high income alone. Advances in vaccination, antibiotics, sanitation, maternal care, and basic medical treatment dramatically reduce early-life mortality, and these interventions spread globally through international aid, NGOs, and health organizations regardless of national wealth. At the same time, there are diminishing returns at the upper end of the longevity curve—raising life expectancy from 50 to 65 years is far easier and cheaper than increasing it from 80 to 85—so poorer countries can make rapid gains even with modest economic growth. As a result, health outcomes converge even while economic outcomes diverge.